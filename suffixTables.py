#!/usr/bin/env python
# -*- coding: utf-8 -*-


from music21 import *
import sys
import copy
import operator

# Version of progression tables from Tinctoris3 where each list item is converted to a dictionary entry
# Allows the contrapuntalPatterns script to step through a contrapuntal outline and convert to a unicode
# progression string, which in turn allows suffix-based pattern extraction.



restID = u'\U00013450'  # unused except for testing

unison = [
          {0: u'\U00013000', -2: u'\U00013002', 3: u'\U00013003', 1: u'\U00013005'},
          {-1: u'\U00013006', -3: u'\U00013007', 4: u'\U00013008', 1: u'\U00013009', 2: u'\U0001300A'},
          {0: u'\U0001300B',  2: u'\U0001300D', 3: u'\U0001300F'},
          {1: u'\U00013010', 4: u'\U00013011', 3: u'\U00013012', -3: u'\U00013013'},
          {2: u'\U00013014', 0: u'\U00013015', 4: u'\U00013016', -4: u'\U00013017', -2: u'\U00013018'},
          {3: u'\U00013010', -1: u'\U0001301A', -3: u'\U0001301B', -4: u'\U0001301C'},
          {-3: u'\U0001301E', 4: u'\U0001301F', 0: u'\U00013020', -2: u'\U00013021'},
          { -4: u'\U00013023',  -1: u'\U00013025', 1: u'\U00013026', -2: u'\U00013027'},
          {-1: u'\U00013028', -3: u'\U00013029', 2: u'\U0001302A', 0: u'\U0001302B'}
          ]



thirdU= [
          {-4: u'\U00013030', -2: u'\U00013031', -1: u'\U00013032', 1: u'\U00013033', 3: u'\U00013034'},
          {-3: u'\U00013035', -1: u'\U00013036', 2: u'\U00013037', 4: u'\U00013038', 0: u'\U00013039' },
          {-2: u'\U0001303A', 0: u'\U0001303B', 1: u'\U0001303C', 3: u'\U0001303D'},
          {-1: u'\U0001303E', 1: u'\U0001303F', 2: u'\U00013040', 4: u'\U00013041'},
          {-2: u'\U00013042', 0: u'\U00013043', -4: u'\U00013044', 2: u'\U00013045', 3: u'\U00013046'},
          {4: u'\U00013048', 1: u'\U00013049', -1: u'\U0001304A', -3: u'\U0001304B'},
          { 4: u'\U0001304D', 2: u'\U0001304E', -2: u'\U0001304F'},
          {-3: u'\U00013050', -4: u'\U00013051', 3: u'\U00013052', 3: u'\U00013053'},
          {0: u'\U00013054', -3: u'\U00013055', -2: u'\U00013056', 4: u'\U00013057'}
          ]

thirdL= [
          {0: u'\U00013060', -4: u'\U00013061', 3: u'\U00013062', 2: u'\U00013084'},
          {1: u'\U00013063', -3: u'\U00013064', 4: u'\U00013065', 3: u'\U00013085'},
          {2: u'\U00013066', -2: u'\U00013067', 4: u'\U00013068', -4: u'\U00013069'},
          {1: u'\U0001306A', -1: u'\U0001306B', 3: u'\U0001306C', -3: u'\U0001306D', -4: u'\U0001306E'},
          {2: u'\U0001306F', 0: u'\U00013070', 4: u'\U00013071', -2: u'\U00013072', -3: u'\U00013073'},
          {1: u'\U00013074', -1: u'\U00013075', -2: u'\U00013076', -4: u'\U00013077'},
          {2: u'\U00013078', 0: u'\U00013079', -1: u'\U0001307A', -3: u'\U0001307B'},
          {3: u'\U0001307C', 0: u'\U0001307D', -2: u'\U0001307E', -4: u'\U0001307F'},
          {4: u'\U00013080', 1: u'\U00013081', -1: u'\U00013082', -3: u'\U00013083'}
          ]

fifthU= [
          {-1: u'\U00013090', 1: u'\U00013091', 3: u'\U00013092'},
          {-2: u'\U00013093', 0: u'\U00013094', 2: u'\U00013095', 4: u'\U00013096'},
          {-4: u'\U00013098', -1: u'\U00013099', 1: u'\U0001309A', 3: u'\U0001309B'},
          {-3: u'\U0001309C', 0: u'\U0001309D', 2: u'\U0001309E', 4: u'\U0001309F'},
          {-2: u'\U000130A1', 0: u'\U000130A2', 1: u'\U000130A3', 3: u'\U000130A4'},
          {-1: u'\U000130A5', 2: u'\U000130A6'},
          {2: u'\U00013097', 0: u'\U000130A7', -4: u'\U000130A8', 3: u'\U000130A9'},
          {1: u'\U000130AA', -3: u'\U000130AB', 4: u'\U000130AC'},
          {2: u'\U000130AD', -2: u'\U000130AE', -4: u'\U000130AF'}
          ]

fifthL= [
          {-2: u'\U000130B0', 2: u'\U000130B1', 4: u'\U000130B2'},
          {-1: u'\U000130B3', 3: u'\U000130B4'},
          {2: u'\U000130B5', 0: u'\U000130B6', 4: u'\U000130B7', -3: u'\U000130B8'},
          { -2: u'\U000130BA', -4: u'\U000130BB'},
          {2: u'\U000130BC', 0: u'\U000130BD', -1: u'\U000130BE', -3: u'\U000130BF'},
          {3: u'\U000130C0', 0: u'\U000130C1', -2: u'\U000130C2', -4: u'\U000130C3'},
          {4: u'\U000130C4', 1: u'\U000130C5', -1: u'\U000130C6', -3: u'\U000130C7'},
          {2: u'\U000130C8', 0: u'\U000130C9', -2: u'\U000130CA', -4: u'\U000130CB'},
          {3: u'\U000130CC', -1: u'\U000130CD', -3: u'\U000130CE'}
          ]

sixthU= [
          {0: u'\U000130D0'},
          {-3: u'\U000130D1', -1: u'\U000130D2', 1: u'\U000130D3', 3: u'\U000130D4'},
          {-2: u'\U000130D5', 0: u'\U000130D6', 2: u'\U000130D7', 4: u'\U000130D8'},
          {-4: u'\U000130D9', -1: u'\U000130DA', 1: u'\U000130DB', 3: u'\U000130DC'},
          {-3: u'\U000130DD', -1: u'\U000130DE', 0: u'\U000130DF', 2: u'\U000130E0', 4: u'\U000130E1'},
          {-2: u'\U000130E2', 1: u'\U000130E3'},
          {-1: u'\U000130E4', 2: u'\U000130E5'},
          {0: u'\U000130E5', 3: u'\U000130E6'},
          {1: u'\U000130E7'}
          ]

sixthL= [
          {-1: u'\U000130F0'},
          {0: u'\U000130F1', -3: u'\U000130F2'},
          {1: u'\U000130F3', -2: u'\U000130F4'},
          {2: u'\U000130F5', -1: u'\U000130F6', -3: u'\U000130F7'},
          {3: u'\U000130F8', 1: u'\U000130F9', 0: u'\U000130FA', -2: u'\U000130FB', -4: u'\U000130FC'},
          {4: u'\U000130FD', 1: u'\U000130FE', -1: u'\U000130FF', -3: u'\U00013100'},
          {2: u'\U00013101', 0: u'\U00013102', -2: u'\U00013103'},
          {3: u'\U00013104', -1: u'\U00013105', -3: u'\U00013106'},
          {0: u'\U00013107', -2: u'\U00013108'}
          ]

octaveU= [
          {-2: u'\U00013110', 0: u'\U00013111', 1: u'\U00013112', 3: u'\U00013113'},
          {-1: u'\U00013114', 1: u'\U00013115', 2: u'\U00013116', 4: u'\U00013117'},
          {-4: u'\U00013118', 0: u'\U00013119', 2: u'\U0001311A', 3: u'\U0001311B'},
          {-3: u'\U0001311C', 1: u'\U0001311D', 3: u'\U0001311E', 4: u'\U0001311F'},
          {-3: u'\U00013120', -2: u'\U00013121', 0: u'\U00013122', 2: u'\U00013123', 4: u'\U00013124'},
          {-4: u'\U00013125', -2: u'\U00013126', -1: u'\U00013127', 3: u'\U00013128'},
          {-3: u'\U00013129', -1: u'\U0001312A', 0: u'\U0001312B', 4: u'\U0001312C'},
          {-2: u'\U0001312D', 0: u'\U0001312E', 1: u'\U0001312F'},
          {-1: u'\U00013130', 1: u'\U00013131', 2: u'\U00013132'}
          ]

octaveL= [
          {1: u'\U00013140', -2: u'\U00013141'},
          {2: u'\U00013142', 0: u'\U00013143', -1: u'\U00013144'},
          {3: u'\U00013145', 1: u'\U00013146', 0: u'\U00013147', -4: u'\U00013148'},
          {4: u'\U00013149', 2: u'\U0001314A', 1: u'\U0001314B', -3: u'\U0001314C'},
          {3: u'\U0001314D', 2: u'\U0001314E', 0: u'\U0001314F', -2: u'\U00013150', -4: u'\U00013151'},
          {4: u'\U00013152', 3: u'\U00013153', -1: u'\U00013154', -3: u'\U00013155', -4: u'\U00013156'},
          {4: u'\U00013157', 0: u'\U00013158', -2: u'\U00013159', -3: u'\U0001315A'},
          {1: u'\U0001315B', -1: u'\U0001315C', -2: u'\U0001315D', -4: u'\U0001315E'},
          {2: u'\U0001315F', 0: u'\U00013160', -1: u'\U00013161', -3: u'\U00013162'}
          ]

tenthU= [
          {-4: u'\U00013170', -2: u'\U00013171', -1: u'\U00013172', 1: u'\U00013173', 3: u'\U00013174'},
          {-3: u'\U00013175', -1: u'\U00013176', 0: u'\U00013177', 2: u'\U00013178', 4: u'\U00013179'},
          {-2: u'\U0001317A', 0: u'\U0001317B', 1: u'\U0001317C', 3: u'\U0001317D'},
          {-1: u'\U0001317E', 1: u'\U0001317F', 2: u'\U00013180', 4: u'\U00013181',},
          {-4: u'\U00013183', -2: u'\U00013184', 0: u'\U00013185', 2: u'\U00013186', 3: u'\U00013187'},
          {-4: u'\U00013188', -3: u'\U00013189', -1: u'\U0001318A', 1: u'\U0001318B'},
          {-3: u'\U0001318C', -2: u'\U0001318D', 0: u'\U0001318E', 2: u'\U0001318F'},
          {-4: u'\U00013190', -2: u'\U00013191', -1: u'\U00013192', 1: u'\U00013193', 3: u'\U00013194'},
          {-3: u'\U00013195', -1: u'\U00013196', 0: u'\U00013197', 4: u'\U00013198'}
          ]

tenthL= [
          {3: u'\U000131A0', 1: u'\U000131A1', 0: u'\U000131A2', -4: u'\U000131A3', -3: u'\U000131A4'},
          {4: u'\U000131A5', 2: u'\U000131A6', 1: u'\U000131A7', -3: u'\U000131A8'},
          {3: u'\U000131AA', 2: u'\U000131AB', 0: u'\U000131AC', -2: u'\U000131AD', -4: u'\U000131AE'},
          {4: u'\U000131AF', 3: u'\U000131B0', 1: u'\U000131B1', -1: u'\U000131B2', -3: u'\U000131B3'},
          {4: u'\U000131B4', 2: u'\U000131B5', 0: u'\U000131B6', -2: u'\U000131B7', -3: u'\U000131B8'},
          {3: u'\U000131B9', 1: u'\U000131BA', -1: u'\U000131BB', -2: u'\U000131BC', -4: u'\U000131C7'},
          {2: u'\U000131BD', 0: u'\U000131BE', -1: u'\U000131BF', -3: u'\U000131C0'},
          {3: u'\U000131C1', 0: u'\U000131C2', -2: u'\U000131C3', -4: u'\U000131C8'},
          {4: u'\U000131C4', 1: u'\U000131C5', -1: u'\U000131C6', -3: u'\U000131C9'}
          ]

twelfthU= [
          {-1: u'\U000131D0', 1: u'\U000131D1', 3: u'\U000131D2'},
          {-2: u'\U000131D3', 0: u'\U000131D4', 2: u'\U000131D5', 4: u'\U000131D6'},
          {-4: u'\U000131CA', -1: u'\U000131D7', 1: u'\U000131D8', 3: u'\U000131D9'},
          {0: u'\U000131DA', 2: u'\U000131DB', 4: u'\U000131DB', -3: u'\U000131DC'},
          {-4: u'\U000131DD', -2: u'\U000131DE', 0: u'\U000131DF', 1: u'\U000131E0', 3: u'\U000131E1'},
          {-1: u'\U000131E2', 2: u'\U000131E3'},
          {-4: u'\U000131E4', -2: u'\U000131E5', 0: u'\U000131E6', 3: u'\U000131E7'},
          {-4: u'\U000131E8', -3: u'\U000131E9', -1: u'\U000131EA', 1: u'\U000131EB', 4: u'\U000131EC'},
          {-3: u'\U000131ED', -2: u'\U000131EE', 0: u'\U000131EF', 2: u'\U000131F0'}
          ]

twelfthL= [
          {3: u'\U00013223', 2: u'\U00013224', 0: u'\U00013200', -2: u'\U00013201'},
          {4: u'\U00013202', 3: u'\U00013203', -1: u'\U00013204'},
          {4: u'\U00013205', 0: u'\U00013206', 2: u'\U00013207', -3: u'\U00013208'},
          {3: u'\U00013209', 1: u'\U0001320A', -2: u'\U0001320B', -4: u'\U0001320C'},
          {4: u'\U0001320D', 2: u'\U0001320E', 0: u'\U0001320F', -1: u'\U00013210', -3: u'\U00013211'},
          {3: u'\U00013212', 0: u'\U00013213', -2: u'\U00013214', -4: u'\U00013215'},
          {4: u'\U00013216', 1: u'\U00013217', -1: u'\U00013218', -3: u'\U00013219'},
          {2: u'\U0001321A', 0: u'\U0001321B', -2: u'\U0001321C', -4: u'\U0001321D'},
          {3: u'\U0001321E',-1: u'\U00013221', -3: u'\U00013222'}
          ]

thirteenthU = [
          {0: u'\U00013230'},
          {-3: u'\U00013231', -1: u'\U00013232', 1: u'\U00013233', 3: u'\U00013234'},
          {-2: u'\U00013235', 0: u'\U00013236', 2: u'\U00013237', 4: u'\U00013238'},
          {-4: u'\U00013239', -1: u'\U0001323A', 1: u'\U0001323B', 3: u'\U0001323C'},
          {-3: u'\U0001323D', -1: u'\U0001323E', 0: u'\U0001323F', 2: u'\U00013240', 4: u'\U00013241'},
          {-2: u'\U00013242', 1: u'\U00013243'},
          {-1: u'\U00013244', 2: u'\U00013245'},
          {0: u'\U00013246', 3: u'\U00013247'},
          {1: u'\U00013248'}
          ]

thirteenthL = [
          {-1: u'\U00013250'},
          {0: u'\U00013251', -3: u'\U00013252'},
          {1: u'\U00013253', -2: u'\U00013254'},
          {2: u'\U00013255', -1: u'\U00013256', -3: u'\U00013257'},
          {3: u'\U00013258', 1: u'\U00013259', 0: u'\U0001325A', -2: u'\U0001325B', -4: u'\U0001325C'},
          {4: u'\U0001325D', 1: u'\U0001325E', -1: u'\U0001325F', -3: u'\U00013260'},
          {2: u'\U00013261', 0: u'\U00013262', -2: u'\U00013263'},
          {3: u'\U00013264', -1: u'\U00013265', -4: u'\U00013266'},
          {0: u'\U00013267', -3: u'\U00013268'}
          ]

fifteenthU = [
          {-2: u'\U00013270', 0: u'\U00013271', 1: u'\U0001328F', 3: u'\U00013272'},
          {-1: u'\U00013273', 1: u'\U00013274', 2: u'\U00013269', 4: u'\U00013275'},
          {-4: u'\U00013276', 0: u'\U00013277', 2: u'\U00013278', 3: u'\U0001326A'},
          {-3: u'\U00013279', 1: u'\U0001327A', 3: u'\U0001327B', 4: u'\U0001326B'},
          {-3: u'\U0001327C', -2: u'\U0001327D', 0: u'\U0001327E', 2: u'\U0001327F', 4: u'\U00013280'},
          {-4: u'\U00013281', -2: u'\U00013282', -1: u'\U00013283', 3: u'\U00013284'},
          {-3: u'\U00013285', -1: u'\U00013286', 0: u'\U00013287', 4: u'\U00013288'},
          {-2: u'\U00013289', 0: u'\U0001328A', 1: u'\U0001328B'},
          {-1: u'\U0001328C', 1: u'\U0001328D', 2: u'\U0001328E'}
          ]


fifteenthL = [
          {1: u'\U00013290', -2: u'\U00013291'},
          {2: u'\U00013292', 0: u'\U00013293', -1: u'\U00013294'},
          {3: u'\U00013295', 1: u'\U00013296', 0: u'\U00013297', -4: u'\U00013298'},
          {4: u'\U00013299', 2: u'\U0001329A', 1: u'\U0001329B', -3: u'\U0001329C'},
          {3: u'\U0001329D', 2: u'\U0001329E', 0: u'\U0001329F', -2: u'\U000133A0', -4: u'\U000133A1'},
          {4: u'\U000133A2', 3: u'\U000133A3', -1: u'\U000133A4', -3: u'\U000133A5', -4: u'\U000133A6'},
          {4: u'\U000133A7', 0: u'\U000133A8', -2: u'\U000133A9', -3: u'\U000133AA'},
          {1: u'\U000133AB', -1: u'\U000133AC', -2: u'\U000133AD', -4: u'\U000133AE'},
          {2: u'\U000133AF', 0: u'\U000133B0', -1: u'\U000133B1', -3: u'\U000133B2'}
          ]

seventeenthU = [{-4: u'\U00014410', -2: u'\U00014411', -1: u'\U00014412', 1: u'\U00014413'},
                {-3: u'\U00014414', -1: u'\U00014415', 0: u'\U00014416', 2: u'\U00014417'},
                {-2: u'\U00014418', 0: u'\U00014419', 1: u'\U0001441A', 3: u'\U0001441B'},
                {-1: u'\U0001441C', 1: u'\U0001441D', 2: u'\U0001441E', 4: u'\U0001441F'},
                {0: u'\U00014420', -4: u'\U00014421', -2: u'\U00014422', 2: u'\U00014423', 3: u'\U00014424'},
                {-4: u'\U00014425', -3: u'\U00014426', -1: u'\U00014427', 1: u'\U00014428'},
                {-3: u'\U00014429', -2: u'\U0001442A', 0: u'\U0001442B', 2: u'\U0001442C'},
                {-4: u'\U0001442D', -2: u'\U0001442E', -1: u'\U0001442F', 1: u'\U00014430', 3: u'\U00014431'},
                {-3: u'\U00014432', -1: u'\U00014433', 0: u'\U00014434', 3: u'\U00014435'}
                ]

seventeenthL = [{3: u'\U00014440', 1: u'\U00014441', 0: u'\U00014442', -4: u'\U00014443'},
                {4: u'\U00014444', 2: u'\U00014445', 1: u'\U00014446', -3: u'\U00014447'},
                {3: u'\U00014448', 2: u'\U00014449', 0: u'\U0001444A', -2: u'\U0001444B'},
                {4: u'\U0001444C', 3: u'\U0001444D', 1: u'\U0001444E', -1: u'\U0001444F'},
                {4: u'\U00014450', 2: u'\U00014451', 0: u'\U00014452', -2: u'\U00014453', -2: u'\U00014454'},
                {3: u'\U00014455', 1: u'\U00014456', -1: u'\U00014457', -2: u'\U00014458'},
                {2: u'\U00014459', 0: u'\U0001445A', -1: u'\U0001445B'},
                {3: u'\U0001445C', 0: u'\U0001445D'},
                {4: u'\U0001445E', 1: u'\U0001445F'}]

nineteenthU = [{-1: u'\U00014460'},
               {-2: u'\U00014461', 0: u'\U00014462'},
               {-4: u'\U00014463', -1: u'\U00014464', 1: u'\U00014465'},
               {-3: u'\U00014466', 0: u'\U00014467', 2: u'\U00014468'},
               {-4: u'\U00014469', -2: u'\U0001446A', 0: u'\U0001446B', 1: u'\U0001446C', 3: u'\U0001446D'},
               {-1: u'\U0001446E', 2: u'\U0001446F'},
               {-4: u'\U00014470', -2: u'\U00014471', 0: u'\U00014472', 3: u'\U00014473'},
               {-4: u'\U00014474', -3: u'\U00014475', -1: u'\U00014476', 1: u'\U00014477', 4: u'\U00014478'},
               {-3: u'\U00014479', -2: u'\U0001447A', 0: u'\U0001447B', 2: u'\U0001447C'}]

nineteenthL = [{3: u'\U00014480', 2: u'\U00014481', -2: u'\U00014482'},
               {4: u'\U00014483', 3: u'\U00014484', 0: u'\U00014485', -1: u'\U00014486'},
               {4: u'\U00014487', 2: u'\U00014488', 0: u'\U00014489'},
               {3: u'\U0001448A', 1: u'\U0001448B', -4: u'\U0001448C'},
               {4: u'\U0001448D', 2: u'\U0001448E', 0: u'\U0001448F', -1: u'\U00014490', -3: u'\U00014491'},
               {3: u'\U00014492', 0: u'\U00014492', -2: u'\U00014493'},
               {2: u'\U00014494', 1: u'\U00014495', 0: u'\U00014496'},
               {2: u'\U00014497'},
               {3: u'\U00014498'}]

twentiethU = [{},
              {-3: u'\U000144A0', -2: u'\U000144A1'},
              {-2: u'\U000144A2', 0: u'\U000144A3'},
              {-4: u'\U000144A4', -1: u'\U000144A5', 1: u'\U000144A6'},
              {-3: u'\U000144A7', -1: u'\U000144A8', 0: u'\U000144A9', 2: u'\U000144AA'},
              {-2: u'\U000144AB', 1: u'\U000144AC'},
              {-1: u'\U000144AD', 2: u'\U000144AE'},
              {0: u'\U000144AF', 3: u'\U000144B0'},
              {1: u'\U000144B1'}]

twentiethL = [{-1: u'\U000144C0'},
              {0: u'\U000144C1', -3: u'\U000144C2'},
              {1: u'\U000144C3', -2: u'\U000144C4'},
              {2: u'\U000144C5', -1: u'\U000144C6', -3: u'\U000144C7'},
              {3: u'\U000144C8', 1: u'\U000144C9', 0: u'\U000144CA', -2: u'\U000144CB'},
              {4: u'\U000144CC', 1: u'\U000144CD', -2: u'\U000144CE'},
              {2: u'\U000144CF', 0: u'\U000144D0'},
              {3: u'\U000144D1'},
              {}]

twentysecondU = [{},
                {},
                {-4: u'\U000144E0'},
                {-3: u'\U000144E1'},
                {-3: u'\U000144E2', 2: u'\U000144E3', 0: u'\U000144E4'},
                {-4: u'\U000144E5', -2: u'\U000144E6', -1: u'\U000144E7'},
                {-3: u'\U000144E8', -1: u'\U000144E9', 0: u'\U000144EA'},
                {-2: u'\U000144EB', 0: u'\U000144EC', 1: u'\U000144ED'},
                {-1: u'\U000144EE', 1: u'\U000144EF', 2: u'\U000144F0'}]

twentysecondL = [{1: u'\U00014500',-2: u'\U00014501'},
                 {2: u'\U00014502', 0: u'\U00014503', -1: u'\U00014504'},
                 {3: u'\U00014505', 1: u'\U00014506', 0: u'\U00014507'},
                 {4: u'\U00014508', 2: u'\U00014509', 1: u'\U0001450A'},
                 {3: u'\U0001450B', 2: u'\U0001450C', 0: u'\U0001450D'},
                 {3: u'\U0001450E'},
                 {4: u'\U0001450F'},
                 {},
                 {}]

fourthUOut  = {
               11: u'\U000133C0',10: u'\U00014000', 9: u'\U000133C1', 7: u'\U000133C2', 5: u'\U000133C3', 4: u'\U000133C4', 3: u'\U000133CA', 2: u'\U000133C5', 0: u'\U000133C6', -2: u'\U000133C7',
               -3: u'\U000133CB',-4: u'\U000133C8', -5: u'\U000133C9'}

fourthLOut = {
               -11: u'\U000133D0',-9: u'\U000133D1', -7: u'\U000133D2', -5: u'\U000133D3', -4: u'\U000133D4',-3: u'\U000133DA', -2: u'\U000133D5', 0: u'\U000133D6', 2: u'\U000133D7',
               3: u'\U000133DB', 4: u'\U000133D8', 5: u'\U000133D9'}

eleventhUOut = {
               18: u'\U000133E0', 16: u'\U000133E1', 14: u'\U000133E2', 12: u'\U000133E3', 11: u'\U000133E4', 10: u'\U000133EA', 9: u'\U000133E5', 7: u'\U000133E6', 5: u'\U000133E7',
               4: u'\U000133E8', 3: u'\U000133EB', 2: u'\U000133E9'}


eleventhLOut = {
               -18: u'\U000133F0', -16: u'\U000133F1', -14: u'\U000133F2', -12: u'\U000133F3', -11: u'\U000133F4', -10: u'\U000133FA', -9: u'\U000133F5', -7: u'\U000133F6', -5: u'\U000133F7',
               -4: u'\U000133F8', -3: u'\U000133FB', -2: u'\U000133F9'}

fourthUIn =  {
               11: u'\U00013400',9: u'\U00013401', 7: u'\U00013402', 5: u'\U00013403', 4: u'\U00013404', 2: u'\U00013405', 0: u'\U00013406', -2: u'\U00013407',
               -4: u'\U00013408', -5: u'\U00013409'}

fourthLIn =  {
               -11: u'\U00013410', -9: u'\U00013411', -7: u'\U00013412', -5: u'\U00013413', -4: u'\U00013414', -2: u'\U00013415', 0: u'\U00013416', 2: u'\U00013417',
               4: u'\U00013418', 5: u'\U00013419', 9: u'\U00014001'}

eleventhUIn = {
               18: u'\U00013420', 16: u'\U00013421', 14: u'\U00013422', 12: u'\U00013423', 11: u'\U00013424', 9: u'\U00013425', 7: u'\U00013426', 5: u'\U00013427',
               4: u'\U00013428', 2: u'\U00013429'}

eleventhLIn = {
               -18: u'\U00014400', -16: u'\U00014401', -14: u'\U00014402', -12: u'\U00014403', -11: u'\U00014404', -9: u'\U00014405', -7: u'\U00014406', -5: u'\U00014407',
               -4: u'\U00014408', -2: u'\U00014409'}

illegals = {-22: u'\U00013380', -20: u'\U00013381', -19: u'\U00013382', -18: u'\U00013383', -17: u'\U00013384', -15: u'\U00013385', -13: u'\U00013386',
            -12: u'\U00013387', -11: u'\U00013388',  -10: u'\U00013389', -9: u'\U0001338A', -7: u'\U0001338B', -5: u'\U0001338C', -4: u'\U0001338D',
            -3: u'\U0001338E', -2: u'\U0001338F', 0: u'\U00013390', 2: u'\U00013391', 3:  u'\U00013393', 4:  u'\U00013394', 5:  u'\U00013395', 7:  u'\U00013396',
            9:  u'\U00013397', 10:  u'\U00013398', 11:  u'\U00013399', 12:  u'\U0001339A', 14:  u'\U0001339B', 16:  u'\U0001339C', 17:  u'\U0001339D',
            18:  u'\U0001339E', 19:  u'\U0001339F', 21: u'\U000133A0'
            }

# Dictionary to reverse mapping of strings to counterpoint.
# Generated by feeding previous matrices to a script that created a reverse representation.

# Motion of voices is described arithmetically: 1 - 5 (-4,0) is thus unison to fifth where the tenor descends a fifth.
# This is equivalent to the 2-gram 1(-5)5.

reverseCP = {'ð“€€': '1 - 5 (-4, 0)','ð“€…': '1 - 6 (-4, 1)','ð“€ƒ': '1 - 8 (-4, 3)','ð“€‚': '1 - 3 (-4, -2)',
'ð“€‰': '1 - 5 (-3, 1)','ð“€Š': '1 - 6 (-3, 2)','ð“€ˆ': '1 - 8 (-3, 4)','ð“€‡': '1 - 1 (-3, -3)','ð“€†': '1 - 3 (-3, -1)',
'ð“€‹': '1 - 3 (-2, 0)','ð“€': '1 - 5 (-2, 2)','ð“€': '1 - 6 (-2, 3)',
'ð“€': '1 - 3 (-1, 1)','ð“€’': '1 - 5 (-1, 3)','ð“€‘': '1 - 6 (-1, 4)','ð“€“': '1 - -1 (-1, -3)',
'ð“€•': '1 - 1 (0, 0)','ð“€—': '1 - -3 (0, -4)','ð“€”': '1 - 3 (0, 2)','ð“€–': '1 - 5 (0, 4)','ð“€˜': '1 - -1 (0, -2)',
'ð“€': '1 - 3 (1, 3)','ð“€œ': '1 - -4 (1, -4)','ð“€›': '1 - -3 (1, -3)','ð“€š': '1 - -1 (1, -1)',
'ð“€ ': '1 - -1 (2, 0)','ð“€Ÿ': '1 - 3 (2, 4)','ð“€ž': '1 - -4 (2, -3)','ð“€¡': '1 - -3 (2, -2)',
'ð“€¦': '1 - -1 (3, 1)','ð“€£': '1 - -6 (3, -4)','ð“€§': '1 - -4 (3, -2)','ð“€¥': '1 - -3 (3, -1)',
'ð“€«': '1 - -3 (4, 0)','ð“€ª': '1 - -1 (4, 2)','ð“€©': '1 - -6 (4, -3)','ð“€¨': '1 - -4 (4, -1)',
'ð“€³': '3 - 8 (-4, 1)','ð“€´': '3 - 10 (-4, 3)','ð“€°': '3 - 3 (-4, -4)','ð“€²': '3 - 6 (-4, -1)','ð“€±': '3 - 5 (-4, -2)',
'ð“€¹': '3 - 6 (-3, 0)','ð“€·': '3 - 8 (-3, 2)','ð“€¸': '3 - 10 (-3, 4)','ð“€µ': '3 - 3 (-3, -3)','ð“€¶': '3 - 5 (-3, -1)',
'ð“€»': '3 - 5 (-2, 0)','ð“€¼': '3 - 6 (-2, 1)','ð“€½': '3 - 8 (-2, 3)','ð“€º': '3 - 3 (-2, -2)',
'ð“€¿': '3 - 5 (-1, 1)','ð“€': '3 - 6 (-1, 2)','ð“': '3 - 8 (-1, 4)','ð“€¾': '3 - 3 (-1, -1)',
'ð“ƒ': '3 - 3 (0, 0)','ð“…': '3 - 5 (0, 2)','ð“†': '3 - 6 (0, 3)','ð“„': '3 - -1 (0, -4)','ð“‚': '3 - 1 (0, -2)',
'ð“‰': '3 - 3 (1, 1)','ð“ˆ': '3 - 6 (1, 4)','ð“‹': '3 - -1 (1, -3)','ð“Š': '3 - 1 (1, -1)',
'ð“Ž': '3 - 3 (2, 2)','ð“': '3 - 5 (2, 4)','ð“': '3 - -1 (2, -2)',
'ð““': '3 - 3 (3, 3)','ð“‘': '3 - -4 (3, -4)','ð“': '3 - -3 (3, -3)',
'ð“”': '3 - -1 (4, 0)','ð“—': '3 - 3 (4, 4)','ð“•': '3 - -4 (4, -3)','ð“–': '3 - -3 (4, -2)',
'ð“‚‘': '5 - 10 (-4, 1)','ð“‚’': '5 - 12 (-4, 3)','ð“‚': '5 - 8 (-4, -1)',
'ð“‚”': '5 - 8 (-3, 0)','ð“‚•': '5 - 10 (-3, 2)','ð“‚–': '5 - 12 (-3, 4)','ð“‚“': '5 - 6 (-3, -2)',
'ð“‚š': '5 - 8 (-2, 1)','ð“‚›': '5 - 10 (-2, 3)','ð“‚˜': '5 - 3 (-2, -4)','ð“‚™': '5 - 6 (-2, -1)',
'ð“‚': '5 - 6 (-1, 0)','ð“‚ž': '5 - 8 (-1, 2)','ð“‚Ÿ': '5 - 10 (-1, 4)','ð“‚œ': '5 - 3 (-1, -3)',
'ð“‚¢': '5 - 5 (0, 0)','ð“‚£': '5 - 6 (0, 1)','ð“‚¤': '5 - 8 (0, 3)','ð“‚¡': '5 - 3 (0, -2)',
'ð“‚¦': '5 - 6 (1, 2)','ð“‚¥': '5 - 3 (1, -1)',
'ð“‚§': '5 - 3 (2, 0)','ð“‚—': '5 - 5 (2, 2)','ð“‚©': '5 - 6 (2, 3)','ð“‚¨': '5 - -1 (2, -4)',
'ð“‚ª': '5 - 3 (3, 1)','ð“‚¬': '5 - 6 (3, 4)','ð“‚«': '5 - -1 (3, -3)',
'ð“‚­': '5 - 3 (4, 2)','ð“‚¯': '5 - -3 (4, -4)','ð“‚®': '5 - -1 (4, -2)',
'ð“ƒ': '6 - 10 (-4, 0)',
'ð“ƒ“': '6 - 10 (-3, 1)','ð“ƒ”': '6 - 12 (-3, 3)','ð“ƒ‘': '6 - 6 (-3, -3)','ð“ƒ’': '6 - 8 (-3, -1)',
'ð“ƒ–': '6 - 8 (-2, 0)','ð“ƒ—': '6 - 10 (-2, 2)','ð“ƒ˜': '6 - 12 (-2, 4)','ð“ƒ•': '6 - 6 (-2, -2)',
'ð“ƒ›': '6 - 8 (-1, 1)','ð“ƒœ': '6 - 10 (-1, 3)','ð“ƒ™': '6 - 3 (-1, -4)','ð“ƒš': '6 - 6 (-1, -1)',
'ð“ƒŸ': '6 - 6 (0, 0)','ð“ƒ ': '6 - 8 (0, 2)','ð“ƒ¡': '6 - 10 (0, 4)','ð“ƒ': '6 - 3 (0, -3)','ð“ƒž': '6 - 5 (0, -1)',
'ð“ƒ£': '6 - 6 (1, 1)','ð“ƒ¢': '6 - 3 (1, -2)',
'ð“ƒ¥': '6 - 6 (2, 2)','ð“ƒ¤': '6 - 3 (2, -1)',
'ð“ƒ¥': '6 - 3 (3, 0)','ð“ƒ¦': '6 - 6 (3, 3)',
'ð“ƒ§': '6 - 3 (4, 1)',
'ð“„‘': '8 - 12 (-4, 0)','ð“„’': '8 - 13 (-4, 1)','ð“„“': '8 - 15 (-4, 3)','ð“„': '8 - 10 (-4, -2)',
'ð“„•': '8 - 12 (-3, 1)','ð“„–': '8 - 13 (-3, 2)','ð“„—': '8 - 15 (-3, 4)','ð“„”': '8 - 10 (-3, -1)',
'ð“„™': '8 - 10 (-2, 0)','ð“„š': '8 - 12 (-2, 2)','ð“„›': '8 - 13 (-2, 3)','ð“„˜': '8 - 6 (-2, -4)',
'ð“„': '8 - 10 (-1, 1)','ð“„ž': '8 - 12 (-1, 3)','ð“„Ÿ': '8 - 13 (-1, 4)','ð“„œ': '8 - 6 (-1, -3)',
'ð“„¢': '8 - 8 (0, 0)','ð“„£': '8 - 10 (0, 2)','ð“„¤': '8 - 12 (0, 4)','ð“„ ': '8 - 5 (0, -3)','ð“„¡': '8 - 6 (0, -2)',
'ð“„¨': '8 - 10 (1, 3)','ð“„¥': '8 - 3 (1, -4)','ð“„§': '8 - 6 (1, -1)','ð“„¦': '8 - 5 (1, -2)',
'ð“„«': '8 - 6 (2, 0)','ð“„¬': '8 - 10 (2, 4)','ð“„©': '8 - 3 (2, -3)','ð“„ª': '8 - 5 (2, -1)',
'ð“„®': '8 - 5 (3, 0)','ð“„¯': '8 - 6 (3, 1)','ð“„­': '8 - 3 (3, -2)',
'ð“„±': '8 - 5 (4, 1)','ð“„²': '8 - 6 (4, 2)','ð“„°': '8 - 3 (4, -1)',
'ð“…³': '10 - 15 (-4, 1)','ð“…´': '10 - 17 (-4, 3)','ð“…°': '10 - 10 (-4, -4)','ð“…²': '10 - 13 (-4, -1)','ð“…±': '10 - 12 (-4, -2)',
'ð“…·': '10 - 13 (-3, 0)','ð“…¸': '10 - 15 (-3, 2)','ð“…¹': '10 - 17 (-3, 4)','ð“…µ': '10 - 10 (-3, -3)','ð“…¶': '10 - 12 (-3, -1)',
'ð“…»': '10 - 12 (-2, 0)','ð“…¼': '10 - 13 (-2, 1)','ð“…½': '10 - 15 (-2, 3)','ð“…º': '10 - 10 (-2, -2)',
'ð“…¿': '10 - 12 (-1, 1)','ð“†€': '10 - 13 (-1, 2)','ð“†': '10 - 15 (-1, 4)','ð“…¾': '10 - 10 (-1, -1)',
'ð“†…': '10 - 10 (0, 0)','ð“††': '10 - 12 (0, 2)','ð“†‡': '10 - 13 (0, 3)','ð“†ƒ': '10 - 6 (0, -4)','ð“†„': '10 - 8 (0, -2)',
'ð“†‹': '10 - 10 (1, 1)','ð“†ˆ': '10 - 5 (1, -4)','ð“†‰': '10 - 6 (1, -3)','ð“†Š': '10 - 8 (1, -1)',
'ð“†Ž': '10 - 8 (2, 0)','ð“†': '10 - 10 (2, 2)','ð“†Œ': '10 - 5 (2, -3)','ð“†': '10 - 6 (2, -2)',
'ð“†“': '10 - 8 (3, 1)','ð“†”': '10 - 10 (3, 3)','ð“†': '10 - 3 (3, -4)','ð“†’': '10 - 6 (3, -1)','ð“†‘': '10 - 5 (3, -2)',
'ð“†—': '10 - 6 (4, 0)','ð“†˜': '10 - 10 (4, 4)','ð“†•': '10 - 3 (4, -3)','ð“†–': '10 - 5 (4, -1)',
'ð“‡‘': '12 - 17 (-4, 1)','ð“‡’': '12 - 19 (-4, 3)','ð“‡': '12 - 15 (-4, -1)',
'ð“‡”': '12 - 15 (-3, 0)','ð“‡•': '12 - 17 (-3, 2)','ð“‡–': '12 - 19 (-3, 4)','ð“‡“': '12 - 13 (-3, -2)',
'ð“‡˜': '12 - 15 (-2, 1)','ð“‡™': '12 - 17 (-2, 3)','ð“‡Š': '12 - 10 (-2, -4)','ð“‡—': '12 - 13 (-2, -1)',
'ð“‡š': '12 - 13 (-1, 0)','ð“‡›': '12 - 15 (-1, 2)','ð“‡›': '12 - 17 (-1, 4)','ð“‡œ': '12 - 10 (-1, -3)',
'ð“‡Ÿ': '12 - 12 (0, 0)','ð“‡ ': '12 - 13 (0, 1)','ð“‡¡': '12 - 15 (0, 3)','ð“‡': '12 - 8 (0, -4)','ð“‡ž': '12 - 10 (0, -2)',
'ð“‡£': '12 - 13 (1, 2)','ð“‡¢': '12 - 10 (1, -1)',
'ð“‡¦': '12 - 10 (2, 0)','ð“‡§': '12 - 13 (2, 3)','ð“‡¤': '12 - 6 (2, -4)','ð“‡¥': '12 - 8 (2, -2)',
'ð“‡«': '12 - 10 (3, 1)','ð“‡¨': '12 - 5 (3, -4)','ð“‡©': '12 - 6 (3, -3)','ð“‡ª': '12 - 8 (3, -1)','ð“‡¬': '12 - 13 (3, 4)',
'ð“‡¯': '12 - 8 (4, 0)','ð“‡°': '12 - 10 (4, 2)','ð“‡­': '12 - 5 (4, -3)','ð“‡®': '12 - 6 (4, -2)',
'ð“ˆ°': '13 - 17 (-4, 0)',
'ð“ˆ³': '13 - 17 (-3, 1)','ð“ˆ´': '13 - 19 (-3, 3)','ð“ˆ±': '13 - 13 (-3, -3)','ð“ˆ²': '13 - 15 (-3, -1)',
'ð“ˆ¶': '13 - 15 (-2, 0)','ð“ˆ·': '13 - 17 (-2, 2)','ð“ˆ¸': '13 - 19 (-2, 4)','ð“ˆµ': '13 - 13 (-2, -2)',
'ð“ˆ»': '13 - 15 (-1, 1)','ð“ˆ¼': '13 - 17 (-1, 3)','ð“ˆ¹': '13 - 10 (-1, -4)','ð“ˆº': '13 - 13 (-1, -1)',
'ð“ˆ¿': '13 - 13 (0, 0)','ð“‰€': '13 - 15 (0, 2)','ð“‰': '13 - 17 (0, 4)','ð“ˆ½': '13 - 10 (0, -3)','ð“ˆ¾': '13 - 12 (0, -1)',
'ð“‰ƒ': '13 - 13 (1, 1)','ð“‰‚': '13 - 10 (1, -2)',
'ð“‰…': '13 - 13 (2, 2)','ð“‰„': '13 - 10 (2, -1)',
'ð“‰†': '13 - 10 (3, 0)','ð“‰‡': '13 - 13 (3, 3)',
'ð“‰ˆ': '13 - 10 (4, 1)',
'ð“‰±': '15 - 19 (-4, 0)','ð“Š': '15 - 20 (-4, 1)','ð“‰²': '15 - 22 (-4, 3)','ð“‰°': '15 - 17 (-4, -2)',
'ð“‰´': '15 - 19 (-3, 1)','ð“‰©': '15 - 20 (-3, 2)','ð“‰µ': '15 - 22 (-3, 4)','ð“‰³': '15 - 17 (-3, -1)',
'ð“‰·': '15 - 17 (-2, 0)','ð“‰¸': '15 - 19 (-2, 2)','ð“‰ª': '15 - 20 (-2, 3)','ð“‰¶': '15 - 13 (-2, -4)',
'ð“‰º': '15 - 17 (-1, 1)','ð“‰»': '15 - 19 (-1, 3)','ð“‰«': '15 - 20 (-1, 4)','ð“‰¹': '15 - 13 (-1, -3)',
'ð“‰¾': '15 - 15 (0, 0)','ð“‰¿': '15 - 17 (0, 2)','ð“Š€': '15 - 19 (0, 4)','ð“‰¼': '15 - 12 (0, -3)','ð“‰½': '15 - 13 (0, -2)',
'ð“Š„': '15 - 17 (1, 3)','ð“Š': '15 - 10 (1, -4)','ð“Šƒ': '15 - 13 (1, -1)','ð“Š‚': '15 - 12 (1, -2)',
'ð“Š‡': '15 - 13 (2, 0)','ð“Šˆ': '15 - 17 (2, 4)','ð“Š…': '15 - 10 (2, -3)','ð“Š†': '15 - 12 (2, -1)',
'ð“ŠŠ': '15 - 12 (3, 0)','ð“Š‹': '15 - 13 (3, 1)','ð“Š‰': '15 - 10 (3, -2)',
'ð“Š': '15 - 12 (4, 1)','ð“ŠŽ': '15 - 13 (4, 2)','ð“ŠŒ': '15 - 10 (4, -1)',
'ð“Š': '-15 - -10 (-4, 1)','ð“Š‘': '-15 - -13 (-4, -2)',
'ð“Š“': '-15 - -12 (-3, 0)','ð“Š’': '-15 - -10 (-3, 2)','ð“Š”': '-15 - -13 (-3, -1)',
'ð“Š—': '-15 - -13 (-2, 0)','ð“Š–': '-15 - -12 (-2, 1)','ð“Š•': '-15 - -10 (-2, 3)','ð“Š˜': '-15 - -17 (-2, -4)',
'ð“Š›': '-15 - -13 (-1, 1)','ð“Šš': '-15 - -12 (-1, 2)','ð“Š™': '-15 - -10 (-1, 4)','ð“Šœ': '-15 - -17 (-1, -3)',
'ð“ŠŸ': '-15 - -15 (0, 0)','ð“Šž': '-15 - -13 (0, 2)','ð“Š': '-15 - -12 (0, 3)','ð“Ž¡': '-15 - -19 (0, -4)','ð“Ž ': '-15 - -17 (0, -2)',
'ð“Ž¦': '-15 - -20 (1, -4)','ð“Ž£': '-15 - -13 (1, 3)','ð“Ž¢': '-15 - -12 (1, 4)','ð“Ž¥': '-15 - -19 (1, -3)','ð“Ž¤': '-15 - -17 (1, -1)',
'ð“Ž¨': '-15 - -17 (2, 0)','ð“Ž§': '-15 - -13 (2, 4)','ð“Žª': '-15 - -20 (2, -3)','ð“Ž©': '-15 - -19 (2, -2)',
'ð“Ž«': '-15 - -17 (3, 1)','ð“Ž®': '-15 - -22 (3, -4)','ð“Ž­': '-15 - -20 (3, -2)','ð“Ž¬': '-15 - -19 (3, -1)',
'ð“Ž°': '-15 - -19 (4, 0)','ð“Ž¯': '-15 - -17 (4, 2)','ð“Ž²': '-15 - -22 (4, -3)','ð“Ž±': '-15 - -20 (4, -1)',
'ð“‰': '-13 - -10 (-4, -1)',
'ð“‰‘': '-13 - -10 (-3, 0)','ð“‰’': '-13 - -13 (-3, -3)',
'ð“‰“': '-13 - -10 (-2, 1)','ð“‰”': '-13 - -13 (-2, -2)',
'ð“‰•': '-13 - -10 (-1, 2)','ð“‰—': '-13 - -15 (-1, -3)','ð“‰–': '-13 - -13 (-1, -1)',
'ð“‰š': '-13 - -13 (0, 0)','ð“‰™': '-13 - -12 (0, 1)','ð“‰˜': '-13 - -10 (0, 3)','ð“‰œ': '-13 - -17 (0, -4)','ð“‰›': '-13 - -15 (0, -2)',
'ð“‰ž': '-13 - -13 (1, 1)','ð“‰': '-13 - -10 (1, 4)','ð“‰ ': '-13 - -17 (1, -3)','ð“‰Ÿ': '-13 - -15 (1, -1)',
'ð“‰¢': '-13 - -15 (2, 0)','ð“‰¡': '-13 - -13 (2, 2)','ð“‰£': '-13 - -17 (2, -2)',
'ð“‰¤': '-13 - -13 (3, 3)','ð“‰¦': '-13 - -20 (3, -4)','ð“‰¥': '-13 - -17 (3, -1)',
'ð“‰§': '-13 - -17 (4, 0)','ð“‰¨': '-13 - -20 (4, -3)',
'ð“ˆ€': '-12 - -8 (-4, 0)','ð“ˆ¤': '-12 - -6 (-4, 2)','ð“ˆ£': '-12 - -5 (-4, 3)','ð“ˆ': '-12 - -10 (-4, -2)',
'ð“ˆƒ': '-12 - -6 (-3, 3)','ð“ˆ‚': '-12 - -5 (-3, 4)','ð“ˆ„': '-12 - -10 (-3, -1)',
'ð“ˆ†': '-12 - -10 (-2, 0)','ð“ˆ‡': '-12 - -8 (-2, 2)','ð“ˆ…': '-12 - -6 (-2, 4)','ð“ˆˆ': '-12 - -13 (-2, -3)',
'ð“ˆŠ': '-12 - -10 (-1, 1)','ð“ˆ‰': '-12 - -8 (-1, 3)','ð“ˆŒ': '-12 - -15 (-1, -4)','ð“ˆ‹': '-12 - -13 (-1, -2)',
'ð“ˆ': '-12 - -12 (0, 0)','ð“ˆŽ': '-12 - -10 (0, 2)','ð“ˆ': '-12 - -8 (0, 4)','ð“ˆ‘': '-12 - -15 (0, -3)','ð“ˆ': '-12 - -13 (0, -1)',
'ð“ˆ“': '-12 - -13 (1, 0)','ð“ˆ’': '-12 - -10 (1, 3)','ð“ˆ•': '-12 - -17 (1, -4)','ð“ˆ”': '-12 - -15 (1, -2)',
'ð“ˆ—': '-12 - -13 (2, 1)','ð“ˆ–': '-12 - -10 (2, 4)','ð“ˆ™': '-12 - -17 (2, -3)','ð“ˆ˜': '-12 - -15 (2, -1)',
'ð“ˆ›': '-12 - -15 (3, 0)','ð“ˆš': '-12 - -13 (3, 2)','ð“ˆ': '-12 - -19 (3, -4)','ð“ˆœ': '-12 - -17 (3, -2)',
'ð“ˆž': '-12 - -13 (4, 3)','ð“ˆ¢': '-12 - -19 (4, -3)','ð“ˆ¡': '-12 - -17 (4, -1)',
'ð“†¢': '-10 - -6 (-4, 0)','ð“†¡': '-10 - -5 (-4, 1)','ð“† ': '-10 - -3 (-4, 3)','ð“†£': '-10 - -10 (-4, -4)','ð“†¤': '-10 - -9 (-4, -3)',
'ð“†§': '-10 - -6 (-3, 1)','ð“†¦': '-10 - -5 (-3, 2)','ð“†¥': '-10 - -3 (-3, 4)','ð“†¨': '-10 - -10 (-3, -3)',
'ð“†¬': '-10 - -8 (-2, 0)','ð“†«': '-10 - -6 (-2, 2)','ð“†ª': '-10 - -5 (-2, 3)','ð“†®': '-10 - -12 (-2, -4)','ð“†­': '-10 - -10 (-2, -2)',
'ð“†±': '-10 - -8 (-1, 1)','ð“†°': '-10 - -6 (-1, 3)','ð“†¯': '-10 - -5 (-1, 4)','ð“†³': '-10 - -12 (-1, -3)','ð“†²': '-10 - -10 (-1, -1)',
'ð“†¶': '-10 - -10 (0, 0)','ð“†µ': '-10 - -8 (0, 2)','ð“†´': '-10 - -6 (0, 4)','ð“†¸': '-10 - -13 (0, -3)','ð“†·': '-10 - -12 (0, -2)',
'ð“†º': '-10 - -10 (1, 1)','ð“†¹': '-10 - -8 (1, 3)','ð“‡‡': '-10 - -15 (1, -4)','ð“†¼': '-10 - -13 (1, -2)','ð“†»': '-10 - -12 (1, -1)',
'ð“†¾': '-10 - -12 (2, 0)','ð“†½': '-10 - -10 (2, 2)','ð“‡€': '-10 - -15 (2, -3)','ð“†¿': '-10 - -13 (2, -1)',
'ð“‡‚': '-10 - -13 (3, 0)','ð“‡': '-10 - -10 (3, 3)','ð“‡ˆ': '-10 - -17 (3, -4)','ð“‡ƒ': '-10 - -15 (3, -2)',
'ð“‡…': '-10 - -13 (4, 1)','ð“‡„': '-10 - -10 (4, 4)','ð“‡‰': '-10 - -17 (4, -3)','ð“‡†': '-10 - -15 (4, -1)',
'ð“…€': '-8 - -3 (-4, 1)','ð“…': '-8 - -6 (-4, -2)',
'ð“…ƒ': '-8 - -5 (-3, 0)','ð“…‚': '-8 - -3 (-3, 2)','ð“…„': '-8 - -6 (-3, -1)',
'ð“…‡': '-8 - -6 (-2, 0)','ð“…†': '-8 - -5 (-2, 1)','ð“……': '-8 - -3 (-2, 3)','ð“…ˆ': '-8 - -10 (-2, -4)',
'ð“…‹': '-8 - -6 (-1, 1)','ð“…Š': '-8 - -5 (-1, 2)','ð“…‰': '-8 - -3 (-1, 4)','ð“…Œ': '-8 - -10 (-1, -3)',
'ð“…': '-8 - -8 (0, 0)','ð“…Ž': '-8 - -6 (0, 2)','ð“…': '-8 - -5 (0, 3)','ð“…‘': '-8 - -12 (0, -4)','ð“…': '-8 - -10 (0, -2)',
'ð“…–': '-8 - -13 (1, -4)','ð“…“': '-8 - -6 (1, 3)','ð“…’': '-8 - -5 (1, 4)','ð“…•': '-8 - -12 (1, -3)','ð“…”': '-8 - -10 (1, -1)',
'ð“…˜': '-8 - -10 (2, 0)','ð“…—': '-8 - -6 (2, 4)','ð“…š': '-8 - -13 (2, -3)','ð“…™': '-8 - -12 (2, -2)',
'ð“…›': '-8 - -10 (3, 1)','ð“…ž': '-8 - -15 (3, -4)','ð“…': '-8 - -13 (3, -2)','ð“…œ': '-8 - -12 (3, -1)',
'ð“… ': '-8 - -12 (4, 0)','ð“…Ÿ': '-8 - -10 (4, 2)','ð“…¢': '-8 - -15 (4, -3)','ð“…¡': '-8 - -13 (4, -1)',
'ð“ƒ°': '-6 - -3 (-4, -1)',
'ð“ƒ±': '-6 - -3 (-3, 0)','ð“ƒ²': '-6 - -6 (-3, -3)',
'ð“ƒ³': '-6 - -3 (-2, 1)','ð“ƒ´': '-6 - -6 (-2, -2)',
'ð“ƒµ': '-6 - -3 (-1, 2)','ð“ƒ·': '-6 - -8 (-1, -3)','ð“ƒ¶': '-6 - -6 (-1, -1)',
'ð“ƒº': '-6 - -6 (0, 0)','ð“ƒ¹': '-6 - -5 (0, 1)','ð“ƒ¸': '-6 - -3 (0, 3)','ð“ƒ¼': '-6 - -10 (0, -4)','ð“ƒ»': '-6 - -8 (0, -2)',
'ð“ƒ¾': '-6 - -6 (1, 1)','ð“ƒ½': '-6 - -3 (1, 4)','ð“„€': '-6 - -10 (1, -3)','ð“ƒ¿': '-6 - -8 (1, -1)',
'ð“„‚': '-6 - -8 (2, 0)','ð“„': '-6 - -6 (2, 2)','ð“„ƒ': '-6 - -10 (2, -2)',
'ð“„„': '-6 - -6 (3, 3)','ð“„†': '-6 - -12 (3, -3)','ð“„…': '-6 - -10 (3, -1)',
'ð“„‡': '-6 - -10 (4, 0)','ð“„ˆ': '-6 - -12 (4, -2)',
'ð“‚±': '-5 - 1 (-4, 2)','ð“‚²': '-5 - 3 (-4, 4)','ð“‚°': '-5 - -3 (-4, -2)',
'ð“‚´': '-5 - 1 (-3, 3)','ð“‚³': '-5 - -3 (-3, -1)',
'ð“‚¶': '-5 - -3 (-2, 0)','ð“‚µ': '-5 - -1 (-2, 2)','ð“‚·': '-5 - 1 (-2, 4)','ð“‚¸': '-5 - -6 (-2, -3)',
'ð“‚»': '-5 - -8 (-1, -4)','ð“‚º': '-5 - -6 (-1, -2)',
'ð“‚½': '-5 - -5 (0, 0)','ð“‚¼': '-5 - -3 (0, 2)','ð“‚¿': '-5 - -8 (0, -3)','ð“‚¾': '-5 - -6 (0, -1)',
'ð“ƒ': '-5 - -6 (1, 0)','ð“ƒ€': '-5 - -3 (1, 3)','ð“ƒƒ': '-5 - -10 (1, -4)','ð“ƒ‚': '-5 - -8 (1, -2)',
'ð“ƒ…': '-5 - -6 (2, 1)','ð“ƒ„': '-5 - -3 (2, 4)','ð“ƒ‡': '-5 - -10 (2, -3)','ð“ƒ†': '-5 - -8 (2, -1)',
'ð“ƒ‰': '-5 - -8 (3, 0)','ð“ƒˆ': '-5 - -6 (3, 2)','ð“ƒ‹': '-5 - -12 (3, -4)','ð“ƒŠ': '-5 - -10 (3, -2)',
'ð“ƒŒ': '-5 - -6 (4, 3)','ð“ƒŽ': '-5 - -12 (4, -3)','ð“ƒ': '-5 - -10 (4, -1)',
'ð“ ': '-3 - 1 (-4, 0)','ð“‚„': '-3 - 3 (-4, 2)','ð“¢': '-3 - 4 (-4, 3)','ð“¡': '-3 - -3 (-4, -4)',
'ð“£': '-3 - 1 (-3, 1)','ð“‚…': '-3 - 3 (-3, 3)','ð“¥': '-3 - 4 (-3, 4)','ð“¤': '-3 - -3 (-3, -3)',
'ð“©': '-3 - -5 (-2, -4)','ð“¦': '-3 - 1 (-2, 2)','ð“¨': '-3 - 3 (-2, 4)','ð“§': '-3 - -3 (-2, -2)',
'ð“ª': '-3 - -1 (-1, 1)','ð“¬': '-3 - 1 (-1, 3)','ð“®': '-3 - -6 (-1, -4)','ð“­': '-3 - -5 (-1, -3)','ð“«': '-3 - -3 (-1, -1)',
'ð“°': '-3 - -3 (0, 0)','ð“¯': '-3 - -1 (0, 2)','ð“±': '-3 - 1 (0, 4)','ð“³': '-3 - -6 (0, -3)','ð“²': '-3 - -5 (0, -2)',
'ð“´': '-3 - -3 (1, 1)','ð“·': '-3 - -8 (1, -4)','ð“¶': '-3 - -6 (1, -2)','ð“µ': '-3 - -5 (1, -1)',
'ð“¹': '-3 - -5 (2, 0)','ð“¸': '-3 - -3 (2, 2)','ð“»': '-3 - -8 (2, -3)','ð“º': '-3 - -6 (2, -1)',
'ð“½': '-3 - -6 (3, 0)','ð“¼': '-3 - -3 (3, 3)','ð“¿': '-3 - -10 (3, -4)','ð“¾': '-3 - -8 (3, -2)',
'ð“‚': '-3 - -6 (4, 1)','ð“‚€': '-3 - -3 (4, 4)','ð“‚ƒ': '-3 - -10 (4, -3)','ð“‚‚': '-3 - -8 (4, -1)',
'ð“†': ' 4 - 1', 'ð“…': ' 4 - 3', 'ð“Š': ' 4 - 4', 'ð“„': ' 4 - 5', 'ð“ƒ': ' 4 - 6', 'ð“‚': ' 4 - 8', 'ð“': ' 4 - 10', u'\U00014000': '4 - 11', 'ð“€': ' 4 - 12', 'ð“‰': ' 4 - -6', 'ð“ˆ': ' 4 - -5', 'ð“‹': ' 4 - -4', 'ð“‡': ' 4 - -3',
'ð“–': ' -4 - 1', 'ð“—': ' -4 - 3', 'ð“›': ' -4 - 4', 'ð“˜': ' -4 - 5', 'ð“™': ' -4 - 6', 'ð“': ' -4 - -12', 'ð“‘': ' -4 - -10', 'ð“’': ' -4 - -8', 'ð““': ' -4 - -6', 'ð“”': ' -4 - -5', 'ð“š': ' -4 - -4', 'ð“•': ' -4 - -3',u'\U00014001': '-4 - 10',
'ð“©': ' 11 - 3', 'ð“«': ' 11 - 4', 'ð“¨': ' 11 - 5', 'ð“§': ' 11 - 6', 'ð“¦': ' 11 - 8', 'ð“¥': ' 11 - 10', 'ð“ª': ' 11 - 11', 'ð“¤': ' 11 - 12', 'ð“£': ' 11 - 13', 'ð“¢': ' 11 - 15', 'ð“¡': ' 11 - 17', 'ð“ ': ' 11 - 19',
'ð“°': ' -11 - -19', 'ð“±': ' -11 - -17', 'ð“²': ' -11 - -15', 'ð“³': ' -11 - -13', 'ð“´': ' -11 - -12', 'ð“º': ' -11 - -11', 'ð“µ': ' -11 - -10', 'ð“¶': ' -11 - -8', 'ð“·': ' -11 - -6', 'ð“¸': ' -11 - -5', 'ð“»': ' -11 - -4', 'ð“¹': ' -11 - -3',
'ð“†': ' 1 -4 ', 'ð“…': ' 3 -4 ', 'ð“‰': ' -6 -4 ', 'ð“„': ' 5 -4 ', 'ð“ƒ': ' 6 -4 ', 'ð“‚': ' 8 -4 ', 'ð“': ' 10 -4 ', 'ð“€': ' 12 -4 ', 'ð“ˆ': ' -5 -4 ', 'ð“‡': ' -3 -4 ',
'ð“–': ' 1- -4', 'ð“—': ' 3- -4', 'ð“˜': ' 5- -4', 'ð“': ' -12- -4', 'ð“‘': ' -10- -4', 'ð“’': ' -8- -4', 'ð“™': ' -6- -4', 'ð“”': ' -5- -4', 'ð“•': ' -3- -4',
'ð“¡': ' 17 - 11', 'ð“ ': ' 19 - 11', 'ð“¨': ' 5 - 11', 'ð“§': ' 6 - 11', 'ð“¦': ' 8 - 11', 'ð“¥': ' 10 - 11', 'ð“¤': ' 12 - 11', 'ð“£': ' 13 - 11', 'ð“©': ' 3 - 11', 'ð“¢': ' 15 - 11',
'ð“±': ' -17 - -11', 'ð“²': ' -15 - -11', 'ð“³': ' -13 - -11', 'ð“´': ' -12 - -11', 'ð“µ': ' -10 - -11', 'ð“¶': ' -8 - -11', 'ð“·': ' -6 - -11', 'ð“¸': ' -5 - -11', 'ð“¹': ' -3 - -11', 'ð“°': ' -19 - -11',
'ð“¨': ' Initial 1', 'ð“©': ' Initial 3', 'ð“ª': ' Initial 5', 'ð“«': ' Initial 6', 'ð“¬': ' Initial 8', 'ð“­': ' Initial 10', 'ð“®': ' Initial 12', 'ð“¯': ' Initial 13', 'ð“°': ' Initial 15', 'ð“ ': ' Initial -15', 'ð“¡': ' Initial -13', 'ð“¢': ' Initial -12', 'ð“£': ' Initial -10', 'ð“¤': ' Initial -8', 'ð“¥': ' Initial -6', 'ð“¦': ' Initial -5', 'ð“§': ' Initial -3',
'ð“‘': 'Rest ',
'ð“Ž': ' I - 1', 'ð“Ž‘': ' I - 3', 'ð“Ž“': ' I - 4', 'ð“Ž”': ' I - 5', 'ð“Ž•': ' I - 6', 'ð“Ž–': ' I - 8', 'ð“Ž—': ' I - 10', 'ð“Ž˜': ' I - 11', 'ð“Ž™': ' I - 12', 'ð“Žš': ' I - 13', 'ð“Ž›': ' I - 14', 'ð“Žœ': ' I - 16', 'ð“Ž': ' I - 18', 'ð“Žž': ' I - 19', 'ð“ŽŸ': ' I - 20', 'ð“Ž ': ' I - 21', 'ð“Ž¡': ' I - -23', 'ð“Ž': ' I - -21', 'ð“Ž‚': ' I - -20', 'ð“Žƒ': ' I - -19', 'ð“Ž„': ' I - -18', 'ð“Ž…': ' I - -16', 'ð“Ž†': ' I - -14', 'ð“Ž‡': ' I - -13', 'ð“Žˆ': ' I - -12', 'ð“Ž‰': ' I - -11', 'ð“ŽŠ': ' I - -10', 'ð“Ž‹': ' I - -8', 'ð“ŽŒ': ' I - -6', 'ð“Ž': ' I - -5', 'ð“ŽŽ': ' I - -4', 'ð“Ž': ' I - -3',

}

# Setup up array of arrays
progressions = [fifteenthL, thirteenthL, twelfthL, tenthL, octaveL, sixthL, fifthL, thirdL, unison, thirdU,
                fifthU, sixthU, octaveU, tenthU, twelfthU, thirteenthU, fifteenthU, seventeenthU, seventeenthL,
                nineteenthU, nineteenthL, twentiethU, twentiethL, twentysecondU, twentysecondL]

# Map previous consonant intervals to appropriate array indices
konsonanzen = {
                  -14: 0,
                -12: 1,
                -11: 2,
                -9: 3,
                -7: 4,
                -5: 5,
                -4: 6,
                -2: 7,
                0: 8,
                2: 9,
                4: 10,
                5: 11,
                7: 12,
                9: 13,
                11: 14,
                12: 15,
                14: 16,
                16: 17,
                -16: 18,
                18: 19,
                -18: 20,
                19: 21,
                -19: 22,
                21: 23,
                -21: 24}



konsonances= {
                -21: u'\U00014510',
                -19: u'\U00014511',
                -18: u'\U00014512',
                -16: u'\U00014513',
                -14: u'\U00013360',
                -12: u'\U00013361',
                -11: u'\U00013362',
                -9:  u'\U00013363',
                -7:  u'\U00013364',
                -5:  u'\U00013365',
                -4:  u'\U00013366',
                -2:  u'\U00013367',
                0:   u'\U00013368',
                2:   u'\U00013369',
                4:   u'\U0001336A',
                5:   u'\U0001336B',
                7:   u'\U0001336C',
                9:   u'\U0001336D',
                11:  u'\U0001336E',
                12:  u'\U0001336F',
                14:  u'\U00013370',
                16:  u'\U00014514',
                18:  u'\U00014515',
                19:  u'\U00014516',
                21:  u'\U00014517'
                }

# Map pitches to numeric values for interval mathematics
voces ={
        "C2": 0,
        "D2": 1,
        "E2": 2,
        "F2": 3,
        "G2": 4,
        "A2": 5,
        "B2": 6,
        "C3": 7,
        "D3": 8,
        "E3": 9,
        "F3": 10,
        "G3": 11,
        "A3": 12,
        "B3": 13,
        "C4": 14,
        "D4": 15,
        "E4": 16,
        "F4": 17,
        "G4": 18,
        "A4": 19,
        "B4": 20,
        "C5": 21,
        "D5": 22,
        "E5": 23,
        "F5": 24,
        "G5": 25,
        "A5": 26,
        "B5": 27,
        "C6": 28
        }

restText = u'\U00013380' # unused


def getInterval(cant, ten):
    c = cant.nameWithOctave
    t = ten.nameWithOctave
    if len(c) > 2:
        c = c[0] + c[-1]
    if len (t) > 2:
        t = t[0] + t[-1]  #ignore accidentals/signed inflections
    return (voces[c] - voces[t])

